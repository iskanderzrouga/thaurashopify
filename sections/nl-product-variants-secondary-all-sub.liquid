{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top_m }}px;
    padding-bottom: {{ section.settings.padding_bottom_m }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<div
  id="{{ section.settings.section_id }}"
  class="section-{{ section.id }}-padding px-3 md:px-5 relative"
  style="background-color: {{ section.settings.bgcolor }}"
>
  <div
    class="mx-auto w-full max-w-[1420px] flex flex-col items-center justify-center gap-8 relative"
    style="max-width: {{ section.settings.max_width }}px;"
  >
    <div class="grid grid-cols-3 gap-1 w-full mb-1 md:mb-10">
      {% for block in section.blocks %}
        {% if block.type == 'row' %}
          <div class="text-center">
            {% if block.settings.heading != blank %}
              <div
                class="text-[14px] md:text-[24px] font-normal !leading-tight text-[#000] text-center"
              >
                {{ block.settings.heading }}
              </div>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <div class="w-full relative">
      {% if section.settings.bg_img != blank %}
        {{
          section.settings.bg_img
          | image_url: width: 1920
          | image_tag: class: 'absolute inset-0 w-full h-full object-cover rounded-[16px]', sizes: '100vw'
        }}
      {% endif %}

      <div class="relative flex flex-col w-full gap-[30px] md:gap-[40px] items-center px-3 md:px-5 py-8 bg-white/5 backdrop-blur-sm rounded-[16px]">
        <div class="rounded-t-[16px] w-full h-[10px] !grid grid-cols-3 absolute top-0 left-0">
          <div class="!block w-full h-full bg-[#EBA12F] rounded-tl-[16px] relative rounded-r-[16px]">
            <span class="left-1/2 transform -translate-x-1/2 absolute -bottom-[14px] md:-bottom-[23px] bg-[#EBA12F] border-[2px] md:border-[4px] border-[#EBA12F]  w-10 h-10 md:w-[60px] md:h-[60px] flex items-center justify-center font-bold !leading-[1] text-[24px] md:text-[40px] rounded-[100px] text-white"
              >1</span
            >
          </div>
          <div class="!block relative">
            <span class="left-1/2 transform -translate-x-1/2 absolute -bottom-[14px] md:-bottom-[23px] bg-[#FFF] border-[2px] md:border-[4px] border-[#3F5348] w-10 h-10 md:w-[60px] md:h-[60px] flex items-center justify-center font-bold !leading-[1] text-[24px] md:text-[40px] rounded-[100px] text-[#3F5348]"
              >2</span
            >
          </div>
          <div class="!block relative">
            <span class="left-1/2 transform -translate-x-1/2 absolute -bottom-[14px] md:-bottom-[23px] bg-[#FFF] border-[2px] md:border-[4px] border-[#3F5348] w-10 h-10 md:w-[60px] md:h-[60px] flex items-center justify-center font-bold !leading-[1] text-[24px] md:text-[40px] rounded-[100px] text-[#3F5348]"
              >3</span
            >
          </div>
        </div>

        {% if section.settings.heading != blank %}
          <h2
            class="text-[26px] md:text-[36px] font-bold !leading-tight text-[#fff] mt-10 text-center"
            style="color: {{ section.settings.text_color }};"
          >
            {{ section.settings.heading }}
          </h2>
        {% endif %}

        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
          <div>
            {% if section.settings.product != blank %}
              {% render 'product-image-slider-horizontal',
                product: section.settings.product,
                slider_start_point: section.settings.slider_start_point
              %}
            {% endif %}
          </div>

          {% if section.settings.sale_label != blank %}
            <div
              class="p-1 bg-[#EBA12F] rounded-[7px] text-[14px] md:text-[18px] font-normal !leading-tight text-[#084C25] text-center block md:hidden"
            >
              {{ section.settings.sale_label }}
              <span class="timer {% if section.settings.hide_timer %} !hidden {% endif %}">10:00</span>
            </div>
          {% endif %}

          <div class="bg-[#FFFFFF] rounded-[20px] p-3 flex flex-col gap-3 md:gap-4">
            {% if section.settings.sale_label != blank %}
              <div
                class="p-1 bg-[#EBA12F] rounded-[7px] text-[14px] md:text-[18px] font-normal !leading-tight text-[#084C25] text-center hidden md:block"
              >
                {{ section.settings.sale_label }}
                <span class="timer {% if section.settings.hide_timer %} !hidden {% endif %}">10:00</span>
              </div>
            {% endif %}

            {% if section.settings.card_label != blank %}
              <div
                class="text-[18px] md:text-[20px] font-medium md:font-bold !leading-tight text-[#084C25]"
              >
                {{ section.settings.card_label }}
              </div>
            {% endif %}

            <div class="flex flex-col gap-1 md:gap-3">
              {% for block in section.blocks %}
                {% if block.type == 'card' %}
                  <div
                    nl-product-secondary-card
                    data-position="{{ block.settings.slider_position }}"
                    {% if block.settings.enable_subscription %}
                      data-subscription-id="{{ block.settings.sub_id }}"
                      data-subscription-percent="{{ block.settings.sub_perceont_off }}"
                    {% endif %}
                    data-id="{{ block.id }}"
                    class="group {% if block.settings.enable_subscription %} subcard {% endif %} {% if block.settings.default %} active {% endif %} border-[2px] border-transparent [&.active]:border-[#EBA12F] rounded-[12px]"
                  >
                    {% assign sub_percent = block.settings.sub_perceont_off | plus: 0 | divided_by: 100.000 %}
                    {% assign inverted_percent = 1 | minus: sub_percent %}
                    {% assign inverted_percent_plus = 1 | plus: sub_percent %}

                    {% assign compare = block.settings.product.selected_or_first_available_variant.compare_at_price %}
                    {% assign price = block.settings.product.selected_or_first_available_variant.price %}
                    {% assign sub_price = block.settings.product.selected_or_first_available_variant.price
                      | times: inverted_percent
                    %}

                    {% if compare > price %}
                      {% assign discount_decimal = compare | minus: price | times: 1.0 | divided_by: compare %}
                      {% assign discount_percent = discount_decimal | times: 100 | round %}
                    {% else %}
                      {% assign discount_percent = 0 %}
                    {% endif %}

                    {% if compare > sub_price %}
                      {% assign sub_discount_decimal = compare | minus: sub_price | times: 1.0 | divided_by: compare %}
                      {% assign sub_discount_percent = sub_discount_decimal | times: 100 | round %}
                    {% else %}
                      {% assign sub_discount_percent = 0 %}
                    {% endif %}

                    <div class="border border-[#EBA12F] rounded-[12px] bg-[#D1E1D7] group-[.active]:bg-[#247042] p-3 md:px-4 md:py-5 flex justify-between gap-4 cursor-pointer">
                      <div class="flex justify-between gap-4">
                        <div class="flex flex-col gap-1">
                          {% if block.settings.title != blank %}
                            <div class="text-[16px] md:text-[18px] font-bold !leading-tight text-[#247042] group-[.active]:text-[#fff] whitespace-nowrap">
                              {{ block.settings.title }}
                            </div>
                          {% endif %}

                          {% if block.settings.bottle_price != blank %}
                            <div class="text-[22px] md:text-[24px] font-bold !leading-tight text-[#084C25] group-[.active]:text-[#EBA12F] whitespace-nowrap">
                              <span class="hidden group-[.onetimecard]:inline">${{ block.settings.bottle_price }}</span>
                              <span class="hidden group-[.subcard]:inline">
                                $
                                {% assign raw = block.settings.bottle_price
                                  | plus: 0
                                  | times: inverted_percent
                                  | round: 2
                                %}
                                {% assign cents = raw | times: 100 | round %}
                                {% assign dollars = cents | divided_by: 100 %}
                                {% assign remainder = cents | modulo: 100 %}
                                {% if remainder < 10 %}
                                  {{ dollars }}.0{{ remainder }}
                                {% else %}
                                  {{ dollars }}.{{ remainder }}
                                {% endif %}

                                {% comment %} {{- block.settings.bottle_price | plus: 0 | times: inverted_percent | round: 2 -}} {% endcomment %}
                              </span>
                              <span class="text-[20px] font-normal"> / bottle</span>
                            </div>
                          {% endif %}

                          {% if block.settings.product != blank %}
                            <div class="flex items-center gap-2">
                              <div class="text-[18px] md:text-[22px] font-bold !leading-tight text-[#084C25] group-[.active]:text-[#EBA12F]">
                                <span class="hidden group-[.onetimecard]:inline">
                                  {{- block.settings.product.selected_or_first_available_variant.price | money -}}
                                </span>
                                <span class="hidden group-[.subcard]:inline">
                                  {{-
                                    block.settings.product.selected_or_first_available_variant.price
                                    | times: inverted_percent
                                    | round: 2
                                    | money
                                  -}}
                                </span>
                              </div>
                              {% if block.settings.product.selected_or_first_available_variant.compare_at_price
                                  > block.settings.product.selected_or_first_available_variant.price
                              %}
                                <div class="text-[12px] md:text-[16px] font-bold !leading-tight text-[#00000078] group-[.active]:text-[#FFFFFF78] line-through">
                                  {{
                                    block.settings.product.selected_or_first_available_variant.compare_at_price
                                    | money
                                  }}
                                </div>
                              {% endif %}
                            </div>
                          {% endif %}
                          {% if block.settings.serving != blank %}
                            <div class="text-[14px] md:text-[16px] font-bold !leading-tight text-[#247042] group-[.active]:text-[#fff] sss">
                              <span class="hidden group-[.onetimecard]:inline"
                                >${{ block.settings.serving }} per capsule</span
                              >
                              <span class="hidden group-[.subcard]:inline"
                                >${{ block.settings.serving | plus: 0 | times: inverted_percent | round: 2 }} per
                                capsule</span
                              >
                            </div>
                          {% endif %}
                          {% if block.settings.show_sale %}
                            <div>
                              {% if block.settings.sale_text != blank %}
                                <div class="w-fit">
                                  <span class="text-[14px] md:text-[16px] font-bold !leading-tight text-[#fff] bg-[#FF0000] p-1 rounded-[4px] text-center w-fit">
                                    {{ block.settings.sale_text }}
                                  </span>
                                  <span class="{% if block.settings.hide_timer %} !hidden {% endif %} ml-1 timer text-[14px] md:text-[16px] font-bold !leading-tight text-[#247042] group-[.active]:text-[#EBA12F]">
                                    10:00</span
                                  >
                                </div>
                              {% endif %}
                            </div>
                          {% endif %}
                        </div>

                        <div class="flex flex-col items-end md:flex-row md:items-start md:justify-between gap-2">
                          {% if block.settings.off %}
                            <div class="{% if discount_percent == 0 %} group-[.onetimecard]:hidden {% endif %} {% if sub_discount_percent == 0 %} group-[.subcard]:hidden {% endif %} text-[13px] md:text-[15px] font-normal !leading-tight text-[#084C25] bg-[#EBA12F] px-3 md:px-5 py-1 h-fit text-center whitespace-nowrap">
                              <span class="hidden group-[.onetimecard]:inline">{{ discount_percent }}% OFF</span>
                              <span class="hidden group-[.subcard]:inline">
                                {{- sub_discount_percent -}}
                                % OFF</span
                              >
                            </div>
                          {% endif %}

                          {% if block.settings.sub_duration %}
                            <div class="hidden group-[.subcard.active]:block text-[13px] md:text-[15px] font-normal !leading-tight text-[#084C25] bg-[#EBA12F] px-3 md:px-5 py-1 h-fit text-center">
                              <span class="hidden group-[.subcard]:inline">{{ block.settings.sub_duration }}</span>
                            </div>
                          {% endif %}
                        </div>
                      </div>
                    </div>
                  </div>
                {% endif %}
              {% endfor %}

              <div class="border rounded-[4px] border-dashed border-[#084C25] px-5 py-3 w-full">
                <div class="flex gap-2 items-center checkbox-row cursor-pointer">
                  <div class="checkbox-widget active"></div>
                  <div class="flex flex-col">
                    {% if section.settings.sub_heading != blank %}
                      <div class="text-[16px] md:text-[18px] font-bold !leading-tight text-[#084C25] relative flex items-center gap-1">
                        {{ section.settings.sub_heading }}

                        {% if section.settings.sub_info %}
                          <span class="relative group inline-flex items-center">
                            <!-- The ? icon -->
                            <span
                              class="
                                w-4 h-4 flex items-center justify-center
                                text-white text-[12px] font-bold
                                bg-[#084C25] rounded-full cursor-pointer tooltip-btn
                              "
                            >
                              ?
                            </span>

                            <!-- Tooltip -->
                            <span
                              class="
                                absolute bottom-full max-md:right-1 md:left-1/2 md:-translate-x-1/2 mb-2
                                px-3 py-1 rounded-md text-white text-xs
                                bg-[#084C25] opacity-0 pointer-events-none
                                transition-opacity duration-200
                                group-hover:opacity-100 w-[200px] tooltip-content
                              "
                            >
                              {{ section.settings.sub_info }}
                            </span>
                          </span>
                        {% endif %}
                      </div>
                    {% endif %}

                    {% if section.settings.sub_description != blank %}
                      <div
                        class="text-[12px] md:text-[14px] font-normal !leading-tight text-[#084C25]"
                      >
                        {{ section.settings.sub_description }}
                      </div>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>

            {% for block in section.blocks %}
              {% if block.type == 'faeture' %}
                <div class="flex flex-col gap-1 pl-3">
                  {% for block in section.blocks %}
                    {% if block.type == 'faeture_item' %}
                      <div class="flex items-center gap-1">
                        {% if block.settings.text != blank %}
                          <div
                            class="text-[14px] md:text-[14px] font-medium !leading-tight text-[#000] md:text-[#084C25]"
                          >
                            {{ block.settings.text }}
                          </div>
                        {% endif %}
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              {% endif %}
            {% endfor %}

            <div class="w-full">
              {% for block in section.blocks %}
                {% if block.type == 'card' %}
                  {% if block.settings.description != blank %}
                    <div
                      nl-product-secondary-description
                      data-id="{{ block.id }}"
                      class="text-[14px] md:text-[14px] font-medium !leading-tight text-[#000] md:text-[#084C25] w-full hidden [&.active]:block {% if block.settings.default %} active {% endif %}"
                    >
                      {{ block.settings.description }}
                    </div>
                  {% endif %}
                {% endif %}
              {% endfor %}
            </div>

            {% for block in section.blocks %}
              {% if block.type == 'card' %}
                <div
                  nl-product-secondary-add-cart
                  data-id="{{ block.id }}"
                  class="w-full hidden [&.active]:block {% if block.settings.default %} active {% endif %}"
                >
                  {%- assign product_form_id = 'product-form-' | append: section.id -%}
                  {%- render 'buy-buttons--secondary',
                    block: block,
                    product: block.settings.product,
                    product_form_id: product_form_id,
                    section_id: section.id
                  -%}
                </div>
              {% endif %}
            {% endfor %}

            {% for block in section.blocks %}
              {% if block.type == 'faeture2' %}
                <div class="grid grid-cols-3 gap-4">
                  {% for block in section.blocks %}
                    {% if block.type == 'faeture2_item' %}
                      <div class="flex gap-1 items-center">
                        {% if block.settings.icon != blank %}
                          {{ block.settings.icon | image_url: width: 20 | image_tag: class: '' }}
                        {% endif %}
                        <span class="text-[10px] md:text-[12px] font-normal text-[#084C25] !leading-tight">
                          {{- block.settings.text -}}
                        </span>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              {% endif %}
            {% endfor %}

            <div class="hidden md:grid md:grid-cols-2 gap-3 items-center">
              <div class="flex flex-col gap-4">
                {% if section.settings.bottom_heading != blank %}
                  <div
                    class="text-[17px] md:text-[14px] font-bold !leading-tight text-[#084C25]"
                  >
                    {{ section.settings.bottom_heading }}
                  </div>
                {% endif %}

                {% if section.settings.bottom_icons != blank %}
                  {{
                    section.settings.bottom_icons
                    | image_url: width: 300
                    | image_tag: class: 'w-full max-w-[250px]', sizes: '300px'
                  }}
                {% endif %}
              </div>

              <div class="flex flex-col gap-3 items-center text-center">
                {% if section.settings.bottom_img != blank %}
                  {{
                    section.settings.bottom_img
                    | image_url: width: 70
                    | image_tag: class: 'w-full max-w-[52px]', sizes: '70px'
                  }}
                {% endif %}

                {% if section.settings.bottom_description != blank %}
                  <div
                    class="flex-1 w-full text-[15px] md:text-[12px] font-normal !leading-tight text-[#084C25]"
                  >
                    {{ section.settings.bottom_description }}
                  </div>
                {% endif %}
              </div>
            </div>
          </div>

          <div class="max-w-[900px] mx-auto bg-[#F1E0E036] rounded-[12px] border border-white px-5 py-5 md:px-10 flex md:hidden flex-col md:flex-row items-center text-center md:text-left gap-4 md:gap-6">
            <div class="w-full md:max-w-[30%] flex flex-col items-center md:items-start gap-4">
              {% if section.settings.bottom_heading != blank %}
                <div
                  class="text-[17px] md:text-[18px] font-bold !leading-tight text-[#fff]"
                  style="color: {{ section.settings.text_color }};"
                >
                  {{ section.settings.bottom_heading }}
                </div>
              {% endif %}

              {% if section.settings.bottom_icons != blank %}
                {{
                  section.settings.bottom_icons
                  | image_url: width: 300
                  | image_tag: class: 'w-full max-w-[250px]', sizes: '300px'
                }}
              {% endif %}
            </div>

            {% if section.settings.bottom_img_2 != blank %}
              {{
                section.settings.bottom_img_2
                | image_url: width: 70
                | image_tag: class: 'w-full max-w-[70px]', sizes: '70px'
              }}
            {% endif %}

            {% if section.settings.bottom_description != blank %}
              <div
                class="flex-1 w-full text-[15px] md:text-[15px] font-normal !leading-tight text-[#fff]"
                style="color: {{ section.settings.text_color }};"
              >
                {{ section.settings.bottom_description }}
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="{{ 'product-form.js' | asset_url }}" defer="defer"></script>

<script>
  document.querySelectorAll('[nl-product-secondary-card__sub-card]').forEach((tab) => {
    tab.addEventListener('click', function () {
      const dataId = this.getAttribute('data-id');
      document.querySelectorAll(`[nl-product-secondary-card__sub-card][data-id=${dataId}]`).forEach((el) => {
        el.classList.remove('active');
        const circle = el.querySelector('[radio-circle]');
        if (circle) {
          circle.classList.remove('active');
        }
      });

      this.classList.add('active');
      const clickedCircle = this.querySelector('[radio-circle]');
      if (clickedCircle) {
        clickedCircle.classList.add('active');
      }
    });
  });
</script>

<script>
  document.querySelectorAll('[nl-product-secondary-card]').forEach((tab) => {
    tab.addEventListener('click', function () {
      const dataId = this.getAttribute('data-id');
      document.querySelectorAll(`[nl-product-secondary-card]`).forEach((el) => {
        el.classList.remove('active');
      });
      this.classList.add('active');

      document.querySelectorAll('[nl-product-secondary-add-cart]').forEach((btn) => {
        btn.classList.remove('active');
      });
      const matchingBtn = document.querySelector(`[nl-product-secondary-add-cart][data-id="${dataId}"]`);
      if (matchingBtn) {
        matchingBtn.classList.add('active');
      }

      document.querySelectorAll('[nl-product-secondary-description]').forEach((des) => {
        des.classList.remove('active');
      });
      const matchingDescription = document.querySelector(`[nl-product-secondary-description][data-id="${dataId}"]`);
      if (matchingDescription) {
        matchingDescription.classList.add('active');
      }

      // --- subscription logic ---
      if (this.getAttribute('data-subscription-card') === 'true') {
        const activeSubCard = this.querySelector('[nl-product-secondary-card__sub-card].active');
        let assignedValue = '';
        if (activeSubCard) {
          const type = activeSubCard.getAttribute('data-type');
          if (type === 'subscription') {
            assignedValue = activeSubCard.getAttribute('data-subscription-id') || '';
          }
        }

        // set input value on matchingBtn
        if (matchingBtn) {
          const input = matchingBtn.querySelector('[re-sub-widget__selling-plan-input]');
          if (input) {
            input.value = assignedValue;
          }
        }
      }
    });
  });
</script>

<script>
  const duration = {{section.settings.timer_minute}} * 60;
  let startTime = Date.now();

  function updateTimersSecondary() {
    const now = Date.now();
    const elapsed = Math.floor((now - startTime) / 1000);
    const timeLeft = duration - (elapsed % duration);

    const mins = Math.floor(timeLeft / 60);
    const secs = timeLeft % 60;
    const formatted = `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;

    document.querySelectorAll('.timer').forEach((timer) => {
      timer.textContent = formatted;
    });
  }

  // Update every second
  setInterval(updateTimersSecondary, 1000);
  updateTimersSecondary();
</script>

<script>
  document.addEventListener('click', function (e) {
    // Detect click on the entire row
    const row = e.target.closest('.checkbox-row');
    if (!row) return;

    // Find the checkbox widget inside the row
    const box = row.querySelector('.checkbox-widget');
    if (!box) return;

    // Toggle checkbox state
    box.classList.toggle('active');

    // Select all product cards inside this section
    const cards = document.querySelectorAll('.section-{{ section.id }}-padding [nl-product-secondary-card]');

    // If checked
    if (box.classList.contains('active')) {
      cards.forEach((card) => {
        card.classList.add('subcard');
        card.classList.remove('onetimecard');
      });
    }
    // If unchecked
    else {
      cards.forEach((card) => {
        card.classList.add('onetimecard');
        card.classList.remove('subcard');
      });
    }

    // All selling plan inputs in this section
    const allSellingPlanInputs = document.querySelectorAll(
      '.section-{{ section.id }}-padding [nl-product-secondary-add-cart] [re-sub-widget__selling-plan-input]'
    );

    // If checked → match each card to its own input
    if (box.classList.contains('active')) {
      cards.forEach((card) => {
        const dataId = card.getAttribute('data-id');
        const subId = card.getAttribute('data-subscription-id');

        const matchingContainer = document.querySelector(
          `.section-{{ section.id }}-padding [nl-product-secondary-add-cart][data-id="${dataId}"]`
        );

        if (matchingContainer) {
          const input = matchingContainer.querySelector('[re-sub-widget__selling-plan-input]');
          if (input) input.value = subId || '';
        }
      });
    }

    // If unchecked → clear all inputs
    else {
      allSellingPlanInputs.forEach((input) => {
        input.value = '';
      });
    }
  });
</script>

<script>
  document.addEventListener('click', (e) => {
    const btn = e.target.closest('.tooltip-btn');
    if (!btn) return;

    const tooltip = btn.parentElement.querySelector('.tooltip-content');
    tooltip.classList.toggle('opacity-100');
    tooltip.classList.toggle('pointer-events-auto');
  });
</script>

{% schema %}
{
  "name": "NL Product Secondary Sub",
  "settings": [
    {
      "type": "product",
      "id": "product",
      "label": "Product"
    },
    {
      "type": "text",
      "id": "sub_heading",
      "label": "Subscription Heading",
      "default": "Save 25% with Automatic Refills"
    },
    {
      "type": "text",
      "id": "sub_description",
      "label": "Subscription Description",
      "default": "Zero Commitment, Cancel Anytime"
    },
    {
      "type": "text",
      "id": "sub_info",
      "label": "Subscription Information",
      "default": "By selecting Automatic Refills, you’ll receive repeat deliveries at the chosen interval until you cancel."
    },
    {
      "type": "range",
      "id": "slider_start_point",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "min",
      "label": "Slider Start Point",
      "default": 0
    },
    {
      "type": "text",
      "id": "section_id",
      "label": "Section Id",
      "default": "products"
    },
    {
      "type": "range",
      "id": "timer_minute",
      "min": 1,
      "max": 100,
      "step": 1,
      "unit": "min",
      "label": "Timer Minute",
      "default": 20
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "text",
      "id": "sale_label",
      "label": "Sale Label"
    },
    {
      "type": "checkbox",
      "id": "hide_timer",
      "label": "Hide Timer",
      "default": false
    },
    {
      "type": "text",
      "id": "card_label",
      "label": "Card Label"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    },
    {
      "type": "select",
      "id": "button_type",
      "options": [
        {
          "value": "primary",
          "label": "Primary"
        },
        {
          "value": "secondary",
          "label": "Secondary"
        },
        {
          "value": "tertiary",
          "label": "Tertiary"
        }
      ],
      "default": "primary",
      "label": "Button Type"
    },
    {
      "type": "text",
      "id": "product_bottom_label",
      "label": "Product Bottom Label"
    },
    {
      "type": "image_picker",
      "id": "bottom_label_icon",
      "label": "Bottom Label Icon"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "bgcolor",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "image_picker",
      "id": "bg_img",
      "label": "background Image"
    },
    {
      "type": "text",
      "id": "bottom_heading",
      "label": "Bottom Heading"
    },
    {
      "type": "richtext",
      "id": "bottom_description",
      "label": "Bottom Description"
    },
    {
      "type": "image_picker",
      "id": "bottom_icons",
      "label": "Bottom Icons"
    },
    {
      "type": "image_picker",
      "id": "bottom_img",
      "label": "Bottom Image"
    },
    {
      "type": "image_picker",
      "id": "bottom_img_2",
      "label": "Bottom Image 2"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 600,
      "max": 1800,
      "step": 20,
      "unit": "px",
      "label": "Max Width",
      "default": 1200
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Top",
      "default": 72
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 72
    },
    {
      "type": "range",
      "id": "padding_top_m",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Top (Mobile)",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom_m",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Bottom (Mobile)",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "row",
      "name": "Row",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        }
      ]
    },
    {
      "type": "faeture",
      "name": "Feature",
      "settings": []
    },
    {
      "type": "faeture_item",
      "name": "Feature Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text"
        }
      ]
    },
    {
      "type": "faeture2",
      "name": "Feature 2",
      "settings": []
    },
    {
      "type": "faeture2_item",
      "name": "Feature 2 Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text"
        }
      ]
    },
    {
      "type": "card",
      "name": "Card",
      "settings": [
        {
          "type": "range",
          "id": "slider_position",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "px",
          "label": "Slider Position",
          "default": 0
        },
        {
          "type": "checkbox",
          "id": "default",
          "label": "Default",
          "default": false
        },
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "text",
          "id": "bottle_price",
          "label": "Bottle Price"
        },
        {
          "type": "text",
          "id": "serving",
          "label": "Serving"
        },
        {
          "type": "checkbox",
          "id": "off",
          "label": "OFF",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_sale",
          "label": "Show Sale",
          "default": false
        },
        {
          "type": "text",
          "id": "sale_text",
          "label": "Sale Text",
          "default": "Sale Ends In:"
        },
        {
          "type": "checkbox",
          "id": "hide_timer",
          "label": "Hide Timer",
          "default": false
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "header",
          "content": "Setting to support Subscription"
        },
        {
          "type": "checkbox",
          "id": "enable_subscription",
          "label": "Enable Subscription",
          "default": false
        },
        {
          "type": "text",
          "id": "sub_id",
          "label": "Subscription ID",
          "visible_if": "{{ block.settings.enable_subscription}}"
        },
        {
          "type": "text",
          "id": "sub_perceont_off",
          "label": "Subscription Percent OFF",
          "visible_if": "{{ block.settings.enable_subscription}}"
        },
        {
          "type": "text",
          "id": "sub_duration",
          "label": "Subscription Duration",
          "visible_if": "{{ block.settings.enable_subscription}}"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "NL Product Secondary Sub"
    }
  ]
}
{% endschema %}

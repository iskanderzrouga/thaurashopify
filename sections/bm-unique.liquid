{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top_m }}px;
    padding-bottom: {{ section.settings.padding_bottom_m }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<div
  id="{{ section.settings.section_id }}"
  class="section-{{ section.id }}-padding px-5 relative"
  style="background-color: {{ section.settings.bgcolor }}"
>
  {% if section.settings.bg != blank %}
    {{
      section.settings.bg
      | image_url: width: 1920
      | image_tag: class: 'w-full absolute top-0 left-0 h-full object-cover', sizes: '1920px'
    }}
  {% endif %}

  <div
    class="mx-auto w-full max-w-[1420px] flex flex-col items-center justify-center gap-8 relative"
    style="max-width: {{ section.settings.max_width }}px;"
  >
    <div
      class="flex flex-col items-center justify-center gap-10 text-center mx-auto relative w-full"
    >
      <div
        class="relative py-6 md:py-10 w-full border border-[#AAAAAA] rounded-[16px]"
        style="background: linear-gradient(to bottom, #FFFFFF, #D0D0D0);"
      >
        <div class="relative flex flex-col w-full gap-[30px] md:gap-10">
          {% for block in section.blocks %}
            {% case block.type %}
              {% when 's2_contents' %}
                <div class="relative {% if block.settings.hide_mobile %} max-md:hidden {% endif %} {% if block.settings.hide_desktop %} md:hidden {% endif %} flex flex-col w-full gap-[30px] md:gap-10">
                  {% if block.settings.heading != blank %}
                    <h2
                      class="text-[28px] md:text-[36px] font-bold !leading-tight text-[#00754A] text-center px-5 md:px-10"
                      style="color: {{ block.settings.heading_color }}"
                    >
                      {{ block.settings.heading }}
                    </h2>
                  {% endif %}

                  {% if block.settings.description != blank %}
                    <div
                      class="text-[16px] md:text-[20px] font-normal !leading-tight text-[#00754A] text-center [&>ul]:list-disc [&>ul]:text-left [&>ul]:mx-auto [&>ul]:w-fit [&>ul>li]:w-fit [&>ul]:max-md:bg-white [&>ul]:max-md:rounded-[10px] [&>ul]:max-md:p-3 [&>ul]:!pl-7 px-5 md:px-10"
                      style="color: {{ block.settings.description_color }}"
                    >
                      {{ block.settings.description }}
                    </div>
                  {% endif %}

                  {% if block.settings.image != blank %}
                    <div class="flex flex-col items-center justify-center text-center gap-3 px-5 md:px-10">
                      {% if block.settings.img_label != blank %}
                        <div
                          class="text-[20px] md:text-[20px] font-normal !leading-tight text-[#00754A] text-center"
                          style="color: {{ block.settings.img_label_color }}"
                        >
                          {{ block.settings.img_label }}
                        </div>
                      {% endif %}
                      {{ block.settings.image | image_url: width: 1200 | image_tag: class: 'w-full' }}
                    </div>
                  {% endif %}

                  {% if block.settings.animation_parent %}
                    {% assign parent_id = block.settings.id %}
                    <div class="bg-[#1E3A16] py-4 overflow-hidden px-5 md:px-10">
                      <div class="cr-unique-s2-animation flex items-center">
                        {% for i in (1..10) %}
                          <div class="nl-animation__item flex items-center justify-between max-w-[1200px] min-w-[1200px] px-5">
                            {% for block in section.blocks %}
                              {% if block.type == 's2_animation' %}
                                {% if parent_id == block.settings.id %}
                                  <div class="flex items-center justify-center gap-2">
                                    {% if block.settings.icon != blank %}
                                      {{
                                        block.settings.icon
                                        | image_url: width: 16
                                        | image_tag: class: 'w-full max-w-[16px]', sizes: '16px'
                                      }}
                                    {% endif %}
                                    {% if block.settings.description != blank %}
                                      <div
                                        class="text-[17px] md:text-[18px] font-bold !leading-[1] text-[#fff]"
                                      >
                                        {{ block.settings.description }}
                                      </div>
                                    {% endif %}
                                  </div>
                                {% endif %}
                              {% endif %}
                            {% endfor %}
                          </div>
                        {% endfor %}
                      </div>
                    </div>

                    <style>
                      .cr-unique-s2-animation {
                        animation: CRUniqueS2Animation 50s linear infinite;
                        width: 6000px;
                      }
                      @keyframes CRUniqueS2Animation {
                        0% {
                          transform: translateX(0);
                        }
                        100% {
                          transform: translateX(-3000px);
                        }
                      }
                    </style>
                  {% endif %}

                  {% if block.settings.card_parent %}
                    {% assign parent_id = block.settings.id %}
                    <div id="{{ parent_id }}" class="w-full px-5 md:px-10 relative">
                      {% if block.settings.card_image != blank %}
                        {{
                          block.settings.card_image
                          | image_url: width: 600
                          | image_tag:
                            class: 'w-full md:w-auto absolute top-0 left-0 h-auto md:h-full object-contain',
                            sizes: '600px'
                        }}
                      {% endif %}

                      <div class="grid grid-cols-2 gap-2 md:max-w-[65%] md:ml-auto relative max-md:pt-[150px]">
                        {% for block in section.blocks %}
                          {% case block.type %}
                            {% when 's2_card' %}
                              {% if parent_id == block.settings.id %}
                                <div
                                  data-id="{{ block.id }}"
                                  data-p-id="{{ parent_id }}"
                                  class="{% if block.settings.full_width %} col-span-2 {% endif %} bg-white flex flex-col items-center gap-2 rounded-[20px] p-3 md:p-6 border border-[#084C25]"
                                >
                                  {% if block.settings.num != blank %}
                                    <h2
                                      class="text-[42px] md:text-[47px] font-bold !leading-tight text-[#fff] bg-[#084C25] w-[62px] h-[62px] rounded-[100px] flex items-center justify-center"
                                    >
                                      {{ block.settings.num }}
                                    </h2>
                                  {% endif %}
                                  {% if block.settings.heading != blank %}
                                    <h2
                                      class="text-[16px] md:text-[18px] font-bold !leading-tight text-[#000]"
                                    >
                                      {{ block.settings.heading }}
                                    </h2>
                                  {% endif %}
                                  {% if block.settings.description != blank %}
                                    <div
                                      class="text-[15px] md:text-[15px] font-normal !leading-tight text-[#000]"
                                    >
                                      {{ block.settings.description }}
                                    </div>
                                  {% endif %}
                                </div>
                              {% endif %}
                          {% endcase %}
                        {% endfor %}
                      </div>
                    </div>
                  {% endif %}

                  {% if block.settings.feature_parent %}
                    {% assign parent_id = block.settings.id %}
                    <div class="max-md:px-5">
                      <div
                        id="{{ parent_id }}"
                        class="w-full px-2 md:px-10 flex flex-wrap justify-center gap-y-5 md:gap-y-10 max-md:bg-white max-md:border max-md:border-[#084C25] max-md:rounded-[12px] max-md:py-5"
                      >
                        {% for block in section.blocks %}
                          {% case block.type %}
                            {% when 's2_feature' %}
                              {% if parent_id == block.settings.id %}
                                <div
                                  data-id="{{ block.id }}"
                                  data-p-id="{{ parent_id }}"
                                  class="flex flex-col items-center gap-[10px] md:gap-4 w-[33%] px-2 md:px-7"
                                >
                                  {% if block.settings.image != blank %}
                                    <div class="w-[70px] md:w-[80px] h-[70px] md:h-[80px] rounded-[80px] bg-[#084C25] flex items-center justify-center">
                                      {{
                                        block.settings.image
                                        | image_url: width: 50
                                        | image_tag: class: 'w-full max-w-[40px] md:max-w-[50px]'
                                      }}
                                    </div>
                                  {% endif %}
                                  {% if block.settings.description != blank %}
                                    <div
                                      class="text-[14px] md:text-[20px] font-normal !leading-tight text-[#000]"
                                    >
                                      {{ block.settings.description }}
                                    </div>
                                  {% endif %}
                                </div>
                              {% endif %}
                          {% endcase %}
                        {% endfor %}
                      </div>
                    </div>
                  {% endif %}
                </div>
            {% endcase %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "BM Unique",
  "settings": [
    {
      "type": "image_picker",
      "id": "bg",
      "label": "Background"
    },
    {
      "type": "color",
      "id": "arrow_color",
      "label": "Arrow Color",
      "default": "#084C25"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 600,
      "max": 1800,
      "step": 20,
      "unit": "px",
      "label": "Max Width",
      "default": 1200
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Top",
      "default": 72
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 72
    },
    {
      "type": "range",
      "id": "padding_top_m",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Top (Mobile)",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom_m",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Bottom (Mobile)",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "s2_contents",
      "name": "S2 Contents",
      "settings": [
        {
          "type": "text",
          "id": "id",
          "label": "ID"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "color",
          "id": "heading_color",
          "label": "Heading Color",
          "default": "#00754A"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "color",
          "id": "description_color",
          "label": "Description Color",
          "default": "#252726"
        },
        {
          "type": "richtext",
          "id": "img_label",
          "label": "Image Label"
        },
        {
          "type": "color",
          "id": "img_label_color",
          "label": "Image Label Color",
          "default": "#252726"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "checkbox",
          "id": "feature_parent",
          "label": "Feature Parent",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "animation_parent",
          "label": "Animation Parent",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "card_parent",
          "label": "Card Parent",
          "default": false
        },
        {
          "type": "image_picker",
          "id": "card_image",
          "label": "Card Image"
        },
        {
          "type": "checkbox",
          "id": "hide_mobile",
          "label": "Hide Mobile",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "hide_desktop",
          "label": "Hide Desktop",
          "default": false
        }
      ]
    },
    {
      "type": "s2_animation",
      "name": "S2 Animation",
      "settings": [
        {
          "type": "text",
          "id": "id",
          "label": "ID"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        }
      ]
    },
    {
      "type": "s2_card",
      "name": "S2 Card",
      "settings": [
        {
          "type": "text",
          "id": "id",
          "label": "ID"
        },
        {
          "type": "text",
          "id": "num",
          "label": "Number"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "checkbox",
          "id": "full_width",
          "label": "Full Width",
          "default": false
        }
      ]
    },
    {
      "type": "s2_feature",
      "name": "S2 Feature",
      "settings": [
        {
          "type": "text",
          "id": "id",
          "label": "ID"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "BM Unique"
    }
  ]
}
{% endschema %}
